### Phase 1 — Scaffold & Foundations (Agent Prompt)
- Objective: Stand up blocks + registry + adapter; motion scaffolding; preview/ISR; SEO wiring; shared primitives. Render Home from JSON.
- Read FIRST:
  - `docs/plans/Phase_Instructions_for_agent.md`
  - `docs/plans/buildplan.md` and `docs/plans/buildplan_phase1.md`
  - `docs/Rulebook.md`
  - `docs/questions.md` (Q1 Motion), `docs/brand/brand-tokens.md`
- Scan FIRST (code):
  - `src/app/[...slug]/page.tsx`, `src/app/api/preview/route.ts`, `src/app/layout.tsx`, `src/app/globals.css`
  - `src/components/AppLink.tsx`, `src/components/AppImage.tsx`, `src/components/RenderBlocks.tsx`
  - `src/lib/content-source.ts`, `src/lib/registry.tsx`, `src/lib/seo.ts`, `src/lib/seoDefaults.ts`, `src/lib/rich-text.tsx`
  - `src/providers/local.ts`
  - `src/content/pages.json`, `src/content/menu.json`
  - `src/styles/theme.css`
- Drift check:
  - If docs and code disagree, update code to match docs with minimal diffs.
  - Never introduce Rulebook Danger Patterns. If a change risks breaking boot/tests, implement the doc’s intent non‑destructively and note the discrepancy in the commit message.
- Implement/verify:
  - Ensure `ContentSource` types and Local JSON adapter are correct (already present).
  - Ensure `RenderBlocks` renders via registry and has unknown-block guard and `data-*` attributes (present).
  - Add motion scaffolding files: `src/components/motion/Appear.tsx`, `src/components/motion/AppearStack.tsx`, `src/styles/motion.css`, `src/styles/motion.ts`; don’t wrap header/footer/legal.
  - Keep SEO using existing `src/lib/seo.ts` + `src/lib/seoDefaults.ts` (do NOT create a duplicate `src/config/site.ts` unless instructed; unify later if needed).
  - Verify preview route toggles draft mode; ISR default intact.
  - Ensure `AppImage` usage includes `alt` and `sizes`/dimensions; seed Home in `src/content/pages.json` renders.
- Constraints (Rulebook): No `fetch`/router/window/context in `src/sections/**`; links via `AppLink`; images via `AppImage`; respect reduced‑motion; preview disables motion.
- Deliverables: Working Home via `[...slug]`; preview toggle; motion wrappers present; SEO metadata fallback via `seoDefaults`.
- Acceptance: `docs/plans/buildplan_phase1.md` Acceptance/QA.
- Commit suggestions: “feat(core): renderer + registry verified”, “feat(motion): Appear/Stack + tokens”, “chore(seo): use seoDefaults”.

### Phase 2 — Section System v1 (Agent Prompt)
- Objective: Implement first-wave sections with strict props/defaults; Storybook coverage; a11y; finalized Journey = `JourneyRow`.
- Read FIRST:
  - `docs/plans/Phase_Instructions_for_agent.md`
  - `docs/plans/buildplan.md` and `docs/plans/buildplan_phase2.md`
  - `docs/Rulebook.md`, `docs/questions.md` (Q2 Journey), `docs/siteandcomponents/*`
- Scan FIRST (code): `src/sections/` (create if missing), `src/components/` wrappers, `src/styles/theme.css` (scrim/contrast notes), `src/components/motion/*`.
- Drift check:
  - If docs and code disagree, update code to match docs with minimal diffs.
  - Never introduce Rulebook Danger Patterns. If a change risks breaking boot/tests, implement the doc’s intent non‑destructively and note the discrepancy in the commit message.
- Implement:
  - Sections: `Hero`, `LogoCloud`, `FeatureGrid`, `Stats`/`KPIs`, `BrandCard`/`BrandGrid`, `CTA`, `NewsList`, `DocList`, `Disclaimer`, `Footer`, `JourneyRow`.
  - `JourneyRow`: desktop row of 4 (3:2), mobile stack (16:9), direction-aware hover on desktop (reduced-motion → fade), each card + footer CTA → `/contact`, gradient fallback if image missing, scrim/contrast per Q3, `data-block="Journey" data-variant="row-4"`, per-card `data-item-index`.
  - Motion: wrap typical sections with `Appear`; lists/grids with `AppearStack`/`AppearItem`; never header/footer/legal.
  - Storybook: add stories (min/typ/max) for sections; include reduced-motion snapshots. If no test runner yet, defer renderer snapshot to Phase 5.
- Constraints: Sections are prop-driven; links via `AppLink`; images via `AppImage` with `alt` + `sizes`.
- Deliverables: Components + stories; renderer integration of `JourneyRow`.
- Acceptance: `docs/plans/buildplan_phase2.md`.
- Commit suggestions: “feat(sections): JourneyRow + core”, “chore(story): stories”, “chore(motion): wrappers on sections”.

### Phase 3 — Page Assembly & Routing (Agent Prompt)
- Objective: Assemble MVP pages via Local adapter; wire navigation; complete SEO (canonical/robots/JSON‑LD) and assets.
- Read FIRST:
  - `docs/plans/Phase_Instructions_for_agent.md`
  - `docs/plans/buildplan.md` and `docs/plans/buildplan_phase3.md`
  - `docs/siteandcomponents/sitemap.md`, `docs/siteandcomponents/howtobuildnavbar.md`
- Scan FIRST (code): `src/content/pages.json`, `src/app/[...slug]/page.tsx`, `src/lib/seo.ts`, `src/lib/seoDefaults.ts`, public assets (`public/og/default.jpg`, `public/brand/logo.png`).
- Drift check:
  - If docs and code disagree, update code to match docs with minimal diffs.
  - Never introduce Rulebook Danger Patterns. If a change risks breaking boot/tests, implement the doc’s intent non‑destructively and note the discrepancy in the commit message.
- Implement:
  - Expand `src/content/pages.json` to compose Home, About, Brands/Products, News (list), Contact, For‑Doctors, For‑Pharmacists, For‑Patients (optional Investors stub).
  - Header/Footer as sections consuming props from adapter; no fetch in sections.
  - SEO: keep using `seo.ts` + `seoDefaults.ts`; ensure absolute canonical, robots by env, and Organization JSON‑LD in layout/route. Add assets if missing.
- Constraints: ISR default; preview bypasses cache; links/images via wrappers; sized media to avoid CLS.
- Deliverables: All MVP routes render solely from blocks + registry; SEO validated.
- Acceptance: `docs/plans/buildplan_phase3.md`.
- Commit suggestions: “feat(content): MVP pages JSON”, “chore(seo): canonical/robots/JSON‑LD with seoDefaults”.

### Phase 4 — Data Extensions & Interactivity (Agent Prompt)
- Objective: Contact form API + success state; analytics helper + Journey events; News enhancements; optional Investors.
- Read FIRST:
  - `docs/plans/Phase_Instructions_for_agent.md`
  - `docs/plans/buildplan_phase4.md`, `docs/Rulebook.md`, `docs/questions.md` (analytics payloads)
- Scan FIRST (code): `src/app/api/`, `src/sections/ContactForm` (create), analytics helper location (create e.g., `src/lib/analytics.ts`).
- Drift check:
  - If docs and code disagree, update code to match docs with minimal diffs.
  - Never introduce Rulebook Danger Patterns. If a change risks breaking boot/tests, implement the doc’s intent non‑destructively and note the discrepancy in the commit message.
- Implement:
  - `ContactForm` section and `src/app/api/contact/route.ts` with validation (Zod), rate-limit guard, provider adapter stub.
  - Analytics helper (no‑op in dev). Wire Journey events: `journey_card_view`, `journey_card_hover` (desktop), `journey_card_click`, `journey_cta_click`; use `data-block="Journey"`, `data-variant="row-4"`, per-card `data-item-index`.
  - News: categories/tags, date formatting; optional single post stub; optional Investors JSON + sections.
- Constraints: Provider logic stays in adapters/API; sections remain prop-driven; reduced‑motion honored.
- Deliverables: Working contact submission; analytics events stubs firing in dev.
- Acceptance: `docs/plans/buildplan_phase4.md`.
- Commit suggestions: “feat(contact): form + API”, “feat(analytics): journey events helper”, “feat(news): tags/dates”.

### Phase 5 — Editor Readiness, QA & Performance (Agent Prompt)
- Objective: Finalize swappable adapter stubs; tests/QA; performance; robots/sitemap; staging → prod readiness.
- Read FIRST:
  - `docs/plans/Phase_Instructions_for_agent.md`
  - `docs/plans/buildplan_phase5.md`, `docs/Rulebook.md`
- Scan FIRST (code): `src/providers/builder.ts`, `src/providers/storyblok.ts`, `src/lib/rich-text.tsx`, test/storybook config (init if missing).
- Drift check:
  - If docs and code disagree, update code to match docs with minimal diffs.
  - Never introduce Rulebook Danger Patterns. If a change risks breaking boot/tests, implement the doc’s intent non‑destructively and note the discrepancy in the commit message.
- Implement:
  - Adapter stubs in `src/providers/*` implementing `ContentSource` with commented SDK spots; rich‑text mapping remains in `lib/rich-text.tsx`.
  - Tests: renderer snapshot with sample page JSON; smoke tests for key routes. Storybook basic a11y.
  - Perf: `AppImage` sizes/dimensions; lazy-load heavy blocks; motion animates opacity/transform only; `will-change` only during active animations.
  - SEO/Robots: env‑driven robots mirrored in metadata and `robots.txt`; add sitemap.
  - Docs: `EDITOR.md` (swap adapters), finalize `README.md`.
- Constraints: Rulebook Danger Patterns; Local JSON boot without provider env vars.
- Deliverables: Green tests, Lighthouse ≥90, robots/canonical correct by env.
- Acceptance: `docs/plans/buildplan_phase5.md`.
- Commit suggestions: “feat(adapters): builder/storyblok stubs”, “test: renderer + smoke”, “chore(perf): image sizes/lazy + motion hygiene”, “chore(seo): robots/sitemap”.